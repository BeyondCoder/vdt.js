<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>vdt template engine demo</title>
</head>
<body>
<!doctype html>
<textarea type="text/vdt" id="template">
    <div>
        <div class="aa"></div>
        <div class="users" style={{width: "100px", fontSize: "24px"}}>{time}</div>
        <script type="text/javascript">
            var a = {input}
            console.log(a)
        </script>
    </div>
</textarea>

<script type="text/javascript" src="../../dist/vdt.js"></script>
<script type="text/javascript">
    var vdt = Vdt(document.getElementById('template').textContent),
        model = {
            users: [
                {name: 'John', id: '1'},
                {name: 'Javey', id: '2'},
                {name: 'Tom', id: '3'},
                {name: 'Sarah', id: '4'}
            ],
            input: '1',
            time: new Date().toLocaleTimeString(),

            add: function(e) {
                model.users.push({name: e.target.value, id: model.users.length});
                model.input = '';
                vdt.update();
            },

            change: function(e) {
                model.input = e.target.value;
                vdt.update();
            }
        };

    document.body.appendChild(vdt.render(model));

    setInterval(function() {
        vdt.data.time = new Date().toLocaleTimeString();
        vdt.data.input = Math.random();
        vdt.update();
        console.log(a);
    }, 1000);
</script>
</body>
</html>

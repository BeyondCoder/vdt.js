<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>vdt template engine test</title>
</head>
<body>
<script type="text/vdt" id="vdt_template">
    var a = 1;
    var b = 2;
    <div class="users">
        <ul>
            {users.map(function(user, index) {
                return <li class="user" id={user.id}>{index}: {user.name}</li>
            })}
        </ul>
        <div>this is a({a})</div>
    </div>
</script>
<script type="text/javascript" src="../build/vdt.js"></script>
<script type="text/javascript">
    var users = [
        {name: 'John', id: '1'},
        {name: 'Javey', id: '2'},
        {name: 'Tom', id: '3'},
        {name: 'Sarah', id: '4'}
    ];

    var str = document.getElementById('vdt_template').innerHTML;
    template = Vdt(str);

    var dom = template({users: users});
    document.body.appendChild(dom);

    setInterval(function() {
        users = users.sort(function() {
            return Math.random() - 0.5;
        });
        template.update(users);
    }, 1000);
</script>
</body>
</html>
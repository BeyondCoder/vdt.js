(function(e){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=e()}else if(typeof define==="function"&&define.amd){define([],e)}else{var t;if(typeof window!=="undefined"){t=window}else if(typeof global!=="undefined"){t=global}else if(typeof self!=="undefined"){t=self}else{t=this}t.Vdt=e()}})(function(){var e,t,n;return function r(e,t,n){function i(s,a){if(!t[s]){if(!e[s]){var u=typeof require=="function"&&require;if(!a&&u)return u(s,!0);if(o)return o(s,!0);var f=new Error("Cannot find module '"+s+"'");throw f.code="MODULE_NOT_FOUND",f}var l=t[s]={exports:{}};e[s][0].call(l.exports,function(t){var n=e[s][1][t];return i(n?n:t)},l,l.exports,r,e,t,n)}return t[s].exports}var o=typeof require=="function"&&require;for(var s=0;s<n.length;s++)i(n[s]);return i}({1:[function(e,t,n){var r=e("ev-store");t.exports=i;function i(e,t,n){var i=r(e);var o=i[t];if(!o){i[t]=n}else if(Array.isArray(o)){if(o.indexOf(n)===-1){o.push(n)}}else if(o!==n){i[t]=[o,n]}}},{"ev-store":5}],2:[function(e,t,n){var r=e("global/document");var i=e("ev-store");var o=e("weakmap-shim/create-store");var s=e("./add-event.js");var a=e("./remove-event.js");var u=e("./proxy-event.js");var f=o();t.exports=l;function l(e){if(!(this instanceof l)){return new l(e)}e=e||r;this.target=e.documentElement;this.events={};this.rawEventListeners={};this.globalListeners={}}l.prototype.addEventListener=s;l.prototype.removeEventListener=a;l.allocateHandle=function y(e){var t=new g;f(t).func=e;return t};l.transformHandle=function x(e,t){var n=f(e).func;return this.allocateHandle(function(e){t(e,n)})};l.prototype.addGlobalEventListener=function m(e,t){var n=this.globalListeners[e]||[];if(n.indexOf(t)===-1){n.push(t)}this.globalListeners[e]=n};l.prototype.removeGlobalEventListener=function w(e,t){var n=this.globalListeners[e]||[];var r=n.indexOf(t);if(r!==-1){n.splice(r,1)}};l.prototype.listenTo=function _(e){if(!(e in this.events)){this.events[e]=0}this.events[e]++;if(this.events[e]!==1){return}var t=this.rawEventListeners[e];if(!t){t=this.rawEventListeners[e]=v(e,this)}this.target.addEventListener(e,t,true)};l.prototype.unlistenTo=function b(e){if(!(e in this.events)){this.events[e]=0}if(this.events[e]===0){throw new Error("already unlistened to event.")}this.events[e]--;if(this.events[e]!==0){return}var t=this.rawEventListeners[e];if(!t){throw new Error("dom-delegator#unlistenTo: cannot "+"unlisten to "+e)}this.target.removeEventListener(e,t,true)};function v(e,t){var n=t.globalListeners;var r=t.target;return i;function i(t){var i=n[e]||[];if(i.length>0){var o=new u(t);o.currentTarget=r;d(i,o)}c(t.target,t,e)}}function c(e,t,n){var r=h(e,n);if(r&&r.handlers.length>0){var i=new u(t);i.currentTarget=r.currentTarget;d(r.handlers,i);if(i._bubbles){var o=r.currentTarget.parentNode;c(o,t,n)}}}function h(e,t){if(e===null||typeof e==="undefined"){return null}var n=i(e);var r=n[t];var o=n.event;if(!r&&!o){return h(e.parentNode,t)}var s=[].concat(r||[],o||[]);return new p(e,s)}function d(e,t){e.forEach(function(n){if(typeof n==="function"){n(t)}else if(typeof n.handleEvent==="function"){n.handleEvent(t)}else if(n.type==="dom-delegator-handle"){f(n).func(t)}else{throw new Error("dom-delegator: unknown handler "+"found: "+JSON.stringify(e))}})}function p(e,t){this.currentTarget=e;this.handlers=t}function g(){this.type="dom-delegator-handle"}},{"./add-event.js":1,"./proxy-event.js":13,"./remove-event.js":14,"ev-store":5,"global/document":8,"weakmap-shim/create-store":11}],3:[function(e,t,n){var r=e("individual");var i=e("cuid");var o=e("global/document");var s=e("./dom-delegator.js");var a="13";var u="__DOM_DELEGATOR_CACHE@"+a;var f="__DOM_DELEGATOR_CACHE_TOKEN@"+a;var l=r(u,{delegators:{}});var v=["blur","change","click","contextmenu","dblclick","error","focus","focusin","focusout","input","keydown","keypress","keyup","load","mousedown","mouseup","resize","select","submit","touchcancel","touchend","touchstart","unload"];t.exports=c;function c(e){e=e||{};var t=e.document||o;var n=t[f];if(!n){n=t[f]=i()}var r=l.delegators[n];if(!r){r=l.delegators[n]=new s(t)}if(e.defaultEvents!==false){for(var a=0;a<v.length;a++){r.listenTo(v[a])}}return r}c.allocateHandle=s.allocateHandle;c.transformHandle=s.transformHandle},{"./dom-delegator.js":2,cuid:4,"global/document":8,individual:9}],4:[function(e,t,n){(function(e){"use strict";var n="cuid",r=0,i=4,o=36,s=Math.pow(o,i),a=function v(e,t){var n="000000000"+e;return n.substr(n.length-t)},u=function c(){return a((Math.random()*s<<0).toString(o),i)},f=function(){r=r<s?r:0;r++;return r-1},l=function h(){var e="c",t=(new Date).getTime().toString(o),n,r=l.fingerprint(),s=u()+u();n=a(f().toString(o),i);return e+t+n+r+s};l.slug=function d(){var e=(new Date).getTime().toString(36),t,n=l.fingerprint().slice(0,1)+l.fingerprint().slice(-1),r=u().slice(-2);t=f().toString(36).slice(-4);return e.slice(-2)+t+n+r};l.globalCount=function p(){var e=function t(){var e,t=0;for(e in window){t++}return t}();l.globalCount=function(){return e};return e};l.fingerprint=function g(){return a((navigator.mimeTypes.length+navigator.userAgent.length).toString(36)+l.globalCount().toString(36),4)};if(e.register){e.register(n,l)}else if(typeof t!=="undefined"){t.exports=l}else{e[n]=l}})(this.applitude||this)},{}],5:[function(e,t,n){"use strict";var r=e("individual/one-version");var i="7";r("ev-store",i);var o="__EV_STORE_KEY@"+i;t.exports=s;function s(e){var t=e[o];if(!t){t=e[o]={}}return t}},{"individual/one-version":7}],6:[function(e,t,n){(function(e){"use strict";var n=typeof window!=="undefined"?window:typeof e!=="undefined"?e:{};t.exports=r;function r(e,t){if(e in n){return n[e]}n[e]=t;return t}}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],7:[function(e,t,n){"use strict";var r=e("./index.js");t.exports=i;function i(e,t,n){var i="__INDIVIDUAL_ONE_VERSION_"+e;var o=i+"_ENFORCE_SINGLETON";var s=r(o,t);if(s!==t){throw new Error("Can only have one copy of "+e+".\n"+"You already have version "+s+" installed.\n"+"This means you cannot install version "+t)}return r(i,n)}},{"./index.js":6}],8:[function(e,t,n){(function(n){var r=typeof n!=="undefined"?n:typeof window!=="undefined"?window:{};var i=e("min-document");if(typeof document!=="undefined"){t.exports=document}else{var o=r["__GLOBAL_DOCUMENT_CACHE@4"];if(!o){o=r["__GLOBAL_DOCUMENT_CACHE@4"]=i}t.exports=o}}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"min-document":53}],9:[function(e,t,n){(function(e){var n=typeof window!=="undefined"?window:typeof e!=="undefined"?e:{};t.exports=r;function r(e,t){if(n[e]){return n[e]}Object.defineProperty(n,e,{value:t,configurable:true});return t}}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],10:[function(e,t,n){if(typeof Object.create==="function"){t.exports=function r(e,t){e.super_=t;e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}})}}else{t.exports=function i(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype;e.prototype=new n;e.prototype.constructor=e}}},{}],11:[function(e,t,n){var r=e("./hidden-store.js");t.exports=i;function i(){var e={};return function(t){if((typeof t!=="object"||t===null)&&typeof t!=="function"){throw new Error("Weakmap-shim: Key must be object")}var n=t.valueOf(e);return n&&n.identity===e?n:r(t,e)}}},{"./hidden-store.js":12}],12:[function(e,t,n){t.exports=r;function r(e,t){var n={identity:t};var r=e.valueOf;Object.defineProperty(e,"valueOf",{value:function(e){return e!==t?r.apply(this,arguments):n},writable:true});return n}},{}],13:[function(e,t,n){var r=e("inherits");var i=["altKey","bubbles","cancelable","ctrlKey","eventPhase","metaKey","relatedTarget","shiftKey","target","timeStamp","type","view","which"];var o=["char","charCode","key","keyCode"];var s=["button","buttons","clientX","clientY","layerX","layerY","offsetX","offsetY","pageX","pageY","screenX","screenY","toElement"];var a=/^key|input/;var u=/^(?:mouse|pointer|contextmenu)|click/;t.exports=f;function f(e){if(!(this instanceof f)){return new f(e)}if(a.test(e.type)){return new v(e)}else if(u.test(e.type)){return new l(e)}for(var t=0;t<i.length;t++){var n=i[t];this[n]=e[n]}this._rawEvent=e;this._bubbles=false}f.prototype.preventDefault=function(){this._rawEvent.preventDefault()};f.prototype.startPropagation=function(){this._bubbles=true};function l(e){for(var t=0;t<i.length;t++){var n=i[t];this[n]=e[n]}for(var r=0;r<s.length;r++){var o=s[r];this[o]=e[o]}this._rawEvent=e}r(l,f);function v(e){for(var t=0;t<i.length;t++){var n=i[t];this[n]=e[n]}for(var r=0;r<o.length;r++){var s=o[r];this[s]=e[s]}this._rawEvent=e}r(v,f)},{inherits:10}],14:[function(e,t,n){var r=e("ev-store");t.exports=i;function i(e,t,n){var i=r(e);var o=i[t];if(!o){return}else if(Array.isArray(o)){var s=o.indexOf(n);if(s!==-1){o.splice(s,1)}}else if(o===n){i[t]=null}}},{"ev-store":5}],15:[function(e,t,n){var r=e("./vdom/create-element.js");t.exports=r},{"./vdom/create-element.js":28}],16:[function(e,t,n){var r=e("./vtree/diff.js");t.exports=r},{"./vtree/diff.js":48}],17:[function(e,t,n){var r=e("./virtual-hyperscript/index.js");t.exports=r},{"./virtual-hyperscript/index.js":35}],18:[function(e,t,n){var r=e("./diff.js");var i=e("./patch.js");var o=e("./h.js");var s=e("./create-element.js");var a=e("./vnode/vnode.js");var u=e("./vnode/vtext.js");t.exports={diff:r,patch:i,h:o,create:s,VNode:a,VText:u}},{"./create-element.js":15,"./diff.js":16,"./h.js":17,"./patch.js":26,"./vnode/vnode.js":44,"./vnode/vtext.js":46}],19:[function(e,t,n){t.exports=function r(e){var t=String.prototype.split,n=/()??/.exec("")[1]===e,r;r=function(r,i,o){if(Object.prototype.toString.call(i)!=="[object RegExp]"){return t.call(r,i,o)}var s=[],a=(i.ignoreCase?"i":"")+(i.multiline?"m":"")+(i.extended?"x":"")+(i.sticky?"y":""),u=0,i=new RegExp(i.source,a+"g"),f,l,v,c;r+="";if(!n){f=new RegExp("^"+i.source+"$(?!\\s)",a)}o=o===e?-1>>>0:o>>>0;while(l=i.exec(r)){v=l.index+l[0].length;if(v>u){s.push(r.slice(u,l.index));if(!n&&l.length>1){l[0].replace(f,function(){for(var t=1;t<arguments.length-2;t++){if(arguments[t]===e){l[t]=e}}})}if(l.length>1&&l.index<r.length){Array.prototype.push.apply(s,l.slice(1))}c=l[0].length;u=v;if(s.length>=o){break}}if(i.lastIndex===l.index){i.lastIndex++}}if(u===r.length){if(c||!i.test("")){s.push("")}}else{s.push(r.slice(u))}return s.length>o?s.slice(0,o):s};return r}()},{}],20:[function(e,t,n){arguments[4][5][0].apply(n,arguments)},{dup:5,"individual/one-version":22}],21:[function(e,t,n){arguments[4][6][0].apply(n,arguments)},{dup:6}],22:[function(e,t,n){arguments[4][7][0].apply(n,arguments)},{"./index.js":21,dup:7}],23:[function(e,t,n){arguments[4][8][0].apply(n,arguments)},{dup:8,"min-document":53}],24:[function(e,t,n){"use strict";t.exports=function r(e){return typeof e==="object"&&e!==null}},{}],25:[function(e,t,n){var r=Array.isArray;var i=Object.prototype.toString;t.exports=r||o;function o(e){return i.call(e)==="[object Array]"}},{}],26:[function(e,t,n){var r=e("./vdom/patch.js");t.exports=r},{"./vdom/patch.js":31}],27:[function(e,t,n){var r=e("is-object");var i=e("../vnode/is-vhook.js");t.exports=o;function o(e,t,n){for(var o in t){var u=t[o];if(u===undefined){s(e,o,u,n)}else if(i(u)){s(e,o,u,n);if(u.hook){u.hook(e,o,n?n[o]:undefined)}}else{if(r(u)){a(e,t,n,o,u)}else{e[o]=u}}}}function s(e,t,n,r){if(r){var o=r[t];if(!i(o)){if(t==="attributes"){for(var s in o){e.removeAttribute(s)}}else if(t==="style"){for(var a in o){e.style[a]=""}}else if(typeof o==="string"){e[t]=""}else{e[t]=null}}else if(o.unhook){o.unhook(e,t,n)}}}function a(e,t,n,i,o){var s=n?n[i]:undefined;if(i==="attributes"){for(var a in o){var f=o[a];if(f===undefined){e.removeAttribute(a)}else{e.setAttribute(a,f)}}return}if(s&&r(s)&&u(s)!==u(o)){e[i]=o;return}if(!r(e[i])){e[i]={}}var l=i==="style"?"":undefined;for(var v in o){var c=o[v];e[i][v]=c===undefined?l:c}}function u(e){if(Object.getPrototypeOf){return Object.getPrototypeOf(e)}else if(e.__proto__){return e.__proto__}else if(e.constructor){return e.constructor.prototype}}},{"../vnode/is-vhook.js":39,"is-object":24}],28:[function(e,t,n){var r=e("global/document");var i=e("./apply-properties");var o=e("../vnode/is-vnode.js");var s=e("../vnode/is-vtext.js");var a=e("../vnode/is-widget.js");var u=e("../vnode/handle-thunk.js");t.exports=f;function f(e,t){var n=t?t.document||r:r;var l=t?t.warn:null;e=u(e).a;if(a(e)){return e.init()}else if(s(e)){return n.createTextNode(e.text)}else if(!o(e)){if(l){l("Item is not a valid virtual dom node",e)}return null}var v=e.namespace===null?n.createElement(e.tagName):n.createElementNS(e.namespace,e.tagName);var c=e.properties;i(v,c);var h=e.children;for(var d=0;d<h.length;d++){var p=f(h[d],t);if(p){v.appendChild(p)}}return v}},{"../vnode/handle-thunk.js":37,"../vnode/is-vnode.js":40,"../vnode/is-vtext.js":41,"../vnode/is-widget.js":42,"./apply-properties":27,"global/document":23}],29:[function(e,t,n){var r={};t.exports=i;function i(e,t,n,r){if(!n||n.length===0){return{}}else{n.sort(a);return o(e,t,n,r,0)}}function o(e,t,n,i,a){i=i||{};if(e){if(s(n,a,a)){i[a]=e}var u=t.children;if(u){var f=e.childNodes;for(var l=0;l<t.children.length;l++){a+=1;var v=u[l]||r;var c=a+(v.count||0);if(s(n,a,c)){o(f[l],v,n,i,a)}a=c}}}return i}function s(e,t,n){if(e.length===0){return false}var r=0;var i=e.length-1;var o;var s;while(r<=i){o=(i+r)/2>>0;s=e[o];if(r===i){return s>=t&&s<=n}else if(s<t){r=o+1}else if(s>n){i=o-1}else{return true}}return false}function a(e,t){return e>t?1:-1}},{}],30:[function(e,t,n){var r=e("./apply-properties");var i=e("../vnode/is-widget.js");var o=e("../vnode/vpatch.js");var s=e("./create-element");var a=e("./update-widget");t.exports=u;function u(e,t,n){var i=e.type;var s=e.vNode;var a=e.patch;switch(i){case o.REMOVE:return f(t,s);case o.INSERT:return l(t,a,n);case o.VTEXT:return v(t,s,a,n);case o.WIDGET:return c(t,s,a,n);case o.VNODE:return h(t,s,a,n);case o.ORDER:p(t,a);return t;case o.PROPS:r(t,a,s.properties);return t;case o.THUNK:return g(t,n.patch(t,a,n));default:return t}}function f(e,t){var n=e.parentNode;if(n){n.removeChild(e)}d(e,t);return null}function l(e,t,n){var r=s(t,n);if(e){e.appendChild(r)}return e}function v(e,t,n,r){var i;if(e.nodeType===3){e.replaceData(0,e.length,n.text);i=e}else{var o=e.parentNode;i=s(n,r);if(o&&i!==e){o.replaceChild(i,e)}}return i}function c(e,t,n,r){var i=a(t,n);var o;if(i){o=n.update(t,e)||e}else{o=s(n,r)}var u=e.parentNode;if(u&&o!==e){u.replaceChild(o,e)}if(!i){d(e,t)}return o}function h(e,t,n,r){var i=e.parentNode;var o=s(n,r);if(i&&o!==e){i.replaceChild(o,e)}return o}function d(e,t){if(typeof t.destroy==="function"&&i(t)){t.destroy(e)}}function p(e,t){var n=e.childNodes;var r={};var i;var o;var s;for(var a=0;a<t.removes.length;a++){o=t.removes[a];i=n[o.from];if(o.key){r[o.key]=i}e.removeChild(i)}var u=n.length;for(var f=0;f<t.inserts.length;f++){s=t.inserts[f];i=r[s.key];e.insertBefore(i,s.to>=u++?null:n[s.to])}}function g(e,t){if(e&&t&&e!==t&&e.parentNode){e.parentNode.replaceChild(t,e)}return t}},{"../vnode/is-widget.js":42,"../vnode/vpatch.js":45,"./apply-properties":27,"./create-element":28,"./update-widget":32}],31:[function(e,t,n){var r=e("global/document");var i=e("x-is-array");var o=e("./dom-index");var s=e("./patch-op");t.exports=a;function a(e,t){return u(e,t)}function u(e,t,n){var i=l(t);if(i.length===0){return e}var s=o(e,t.a,i);var a=e.ownerDocument;if(!n){n={patch:u};if(a!==r){n.document=a}}for(var v=0;v<i.length;v++){var c=i[v];e=f(e,s[c],t[c],n)}return e}function f(e,t,n,r){if(!t){return e}var o;if(i(n)){for(var a=0;a<n.length;a++){o=s(n[a],t,r);if(t===e){e=o}}}else{o=s(n,t,r);if(t===e){e=o}}return e}function l(e){var t=[];for(var n in e){if(n!=="a"){t.push(Number(n))}}return t}},{"./dom-index":29,"./patch-op":30,"global/document":23,"x-is-array":25}],32:[function(e,t,n){var r=e("../vnode/is-widget.js");t.exports=i;function i(e,t){if(r(e)&&r(t)){if("name"in e&&"name"in t){return e.id===t.id}else{return e.init===t.init}}return false}},{"../vnode/is-widget.js":42}],33:[function(e,t,n){"use strict";var r=e("ev-store");t.exports=i;function i(e){if(!(this instanceof i)){return new i(e)}this.value=e}i.prototype.hook=function(e,t){var n=r(e);var i=t.substr(3);n[i]=this.value};i.prototype.unhook=function(e,t){var n=r(e);var i=t.substr(3);n[i]=undefined}},{"ev-store":20}],34:[function(e,t,n){"use strict";t.exports=r;function r(e){if(!(this instanceof r)){return new r(e)}this.value=e}r.prototype.hook=function(e,t){if(e[t]!==this.value){e[t]=this.value}}},{}],35:[function(e,t,n){"use strict";var r=e("x-is-array");var i=e("../vnode/vnode.js");var o=e("../vnode/vtext.js");var s=e("../vnode/is-vnode");var a=e("../vnode/is-vtext");var u=e("../vnode/is-widget");var f=e("../vnode/is-vhook");var l=e("../vnode/is-thunk");var v=e("./parse-tag.js");var c=e("./hooks/soft-set-hook.js");var h=e("./hooks/ev-hook.js");t.exports=d;function d(e,t,n){var r=[];var o,s,a,u;if(!n&&x(t)){n=t;s={}}s=s||t||{};o=v(e,s);if(s.hasOwnProperty("key")){a=s.key;s.key=undefined}if(s.hasOwnProperty("namespace")){u=s.namespace;s.namespace=undefined}if(o==="INPUT"&&!u&&s.hasOwnProperty("value")&&s.value!==undefined&&!f(s.value)){s.value=c(s.value)}g(s);if(n!==undefined&&n!==null){p(n,r,o,s)}return new i(o,s,r,a,u)}function p(e,t,n,i){if(typeof e==="string"||typeof e==="number"){t.push(new o(e))}else if(y(e)){t.push(e)}else if(r(e)){for(var s=0;s<e.length;s++){p(e[s],t,n,i)}}else if(e===null||e===undefined){return}else{throw m({foreignObject:e,parentVnode:{tagName:n,properties:i}})}}function g(e){for(var t in e){if(e.hasOwnProperty(t)){var n=e[t];if(f(n)){continue}if(t.substr(0,3)==="ev-"){e[t]=h(n)}}}}function y(e){return s(e)||a(e)||u(e)||l(e)}function x(e){return typeof e==="string"||r(e)||y(e)}function m(e){var t=new Error;t.type="virtual-hyperscript.unexpected.virtual-element";t.message="Unexpected virtual child passed to h().\n"+"Expected a VNode / Vthunk / VWidget / string but:\n"+"got:\n"+w(e.foreignObject)+".\n"+"The parent vnode is:\n"+w(e.parentVnode);"\n"+"Suggested fix: change your `h(..., [ ... ])` callsite.";t.foreignObject=e.foreignObject;t.parentVnode=e.parentVnode;return t}function w(e){try{return JSON.stringify(e,null,"    ")}catch(t){return String(e)}}},{"../vnode/is-thunk":38,"../vnode/is-vhook":39,"../vnode/is-vnode":40,"../vnode/is-vtext":41,"../vnode/is-widget":42,"../vnode/vnode.js":44,"../vnode/vtext.js":46,"./hooks/ev-hook.js":33,"./hooks/soft-set-hook.js":34,"./parse-tag.js":36,"x-is-array":25}],36:[function(e,t,n){"use strict";var r=e("browser-split");var i=/([\.#]?[a-zA-Z0-9_:-]+)/;var o=/^\.|#/;t.exports=s;function s(e,t){if(!e){return"DIV"}var n=!t.hasOwnProperty("id");var s=r(e,i);var a=null;if(o.test(s[1])){a="DIV"}var u,f,l,v;for(v=0;v<s.length;v++){f=s[v];if(!f){continue}l=f.charAt(0);if(!a){a=f}else if(l==="."){u=u||[];u.push(f.substring(1,f.length))}else if(l==="#"&&n){t.id=f.substring(1,f.length)}}if(u){if(t.className){u.push(t.className)}t.className=u.join(" ")}return t.namespace?a:a.toUpperCase()}},{"browser-split":19}],37:[function(e,t,n){var r=e("./is-vnode");var i=e("./is-vtext");var o=e("./is-widget");var s=e("./is-thunk");t.exports=a;function a(e,t){var n=e;var r=t;if(s(t)){r=u(t,e)}if(s(e)){n=u(e,null)}return{a:n,b:r}}function u(e,t){var n=e.vnode;if(!n){n=e.vnode=e.render(t)}if(!(r(n)||i(n)||o(n))){throw new Error("thunk did not return a valid node")}return n}},{"./is-thunk":38,"./is-vnode":40,"./is-vtext":41,"./is-widget":42}],38:[function(e,t,n){t.exports=r;function r(e){return e&&e.type==="Thunk"}},{}],39:[function(e,t,n){t.exports=r;function r(e){return e&&(typeof e.hook==="function"&&!e.hasOwnProperty("hook")||typeof e.unhook==="function"&&!e.hasOwnProperty("unhook"))}},{}],40:[function(e,t,n){var r=e("./version");t.exports=i;function i(e){return e&&e.type==="VirtualNode"&&e.version===r}},{"./version":43}],41:[function(e,t,n){var r=e("./version");t.exports=i;function i(e){return e&&e.type==="VirtualText"&&e.version===r}},{"./version":43}],42:[function(e,t,n){t.exports=r;function r(e){return e&&e.type==="Widget"}},{}],43:[function(e,t,n){t.exports="2"},{}],44:[function(e,t,n){var r=e("./version");var i=e("./is-vnode");var o=e("./is-widget");var s=e("./is-thunk");var a=e("./is-vhook");t.exports=l;var u={};var f=[];function l(e,t,n,r,l){this.tagName=e;this.properties=t||u;this.children=n||f;this.key=r!=null?String(r):undefined;this.namespace=typeof l==="string"?l:null;var v=n&&n.length||0;var c=0;var h=false;var d=false;var p=false;var g;for(var y in t){if(t.hasOwnProperty(y)){var x=t[y];if(a(x)&&x.unhook){if(!g){g={}}g[y]=x}}}for(var m=0;m<v;m++){var w=n[m];if(i(w)){c+=w.count||0;if(!h&&w.hasWidgets){h=true}if(!d&&w.hasThunks){d=true}if(!p&&(w.hooks||w.descendantHooks)){p=true}}else if(!h&&o(w)){if(typeof w.destroy==="function"){h=true}}else if(!d&&s(w)){d=true}}this.count=v+c;this.hasWidgets=h;this.hasThunks=d;this.hooks=g;this.descendantHooks=p}l.prototype.version=r;l.prototype.type="VirtualNode"},{"./is-thunk":38,"./is-vhook":39,"./is-vnode":40,"./is-widget":42,"./version":43}],45:[function(e,t,n){var r=e("./version");i.NONE=0;i.VTEXT=1;i.VNODE=2;i.WIDGET=3;i.PROPS=4;i.ORDER=5;i.INSERT=6;i.REMOVE=7;i.THUNK=8;t.exports=i;function i(e,t,n){this.type=Number(e);this.vNode=t;this.patch=n}i.prototype.version=r;i.prototype.type="VirtualPatch"},{"./version":43}],46:[function(e,t,n){var r=e("./version");t.exports=i;function i(e){this.text=String(e)}i.prototype.version=r;i.prototype.type="VirtualText"},{"./version":43}],47:[function(e,t,n){var r=e("is-object");var i=e("../vnode/is-vhook");t.exports=o;function o(e,t){var n;for(var a in e){if(!(a in t)){n=n||{};n[a]=undefined}var u=e[a];var f=t[a];if(u===f){continue}else if(r(u)&&r(f)){if(s(f)!==s(u)){n=n||{};n[a]=f}else if(i(f)){n=n||{};n[a]=f}else{var l=o(u,f);if(l){n=n||{};n[a]=l}}}else{n=n||{};n[a]=f}}for(var v in t){if(!(v in e)){n=n||{};n[v]=t[v]}}return n}function s(e){if(Object.getPrototypeOf){return Object.getPrototypeOf(e)}else if(e.__proto__){return e.__proto__}else if(e.constructor){return e.constructor.prototype}}},{"../vnode/is-vhook":39,"is-object":24}],48:[function(e,t,n){var r=e("x-is-array");var i=e("../vnode/vpatch");var o=e("../vnode/is-vnode");var s=e("../vnode/is-vtext");var a=e("../vnode/is-widget");var u=e("../vnode/is-thunk");var f=e("../vnode/handle-thunk");var l=e("./diff-props");t.exports=v;function v(e,t){var n={a:e};c(e,t,n,0);return n}function c(e,t,n,r){if(e===t){return}var f=n[r];var v=false;if(u(e)||u(t)){g(e,t,n,r)}else if(t==null){if(!a(e)){d(e,n,r);f=n[r]}f=k(f,new i(i.REMOVE,e,t))}else if(o(t)){if(o(e)){if(e.tagName===t.tagName&&e.namespace===t.namespace&&e.key===t.key){var c=l(e.properties,t.properties);if(c){f=k(f,new i(i.PROPS,e,c))}f=h(e,t,n,f,r)}else{f=k(f,new i(i.VNODE,e,t));v=true}}else{f=k(f,new i(i.VNODE,e,t));v=true}}else if(s(t)){if(!s(e)){f=k(f,new i(i.VTEXT,e,t));v=true}else if(e.text!==t.text){f=k(f,new i(i.VTEXT,e,t))}}else if(a(t)){if(!a(e)){v=true}f=k(f,new i(i.WIDGET,e,t))}if(f){n[r]=f}if(v){d(e,n,r)}}function h(e,t,n,r,s){var a=e.children;var u=w(a,t.children);var f=u.children;var l=a.length;var v=f.length;var h=l>v?l:v;for(var d=0;d<h;d++){var p=a[d];var g=f[d];s+=1;if(!p){if(g){r=k(r,new i(i.INSERT,null,g))}}else{c(p,g,n,s)}if(o(p)&&p.count){s+=p.count}}if(u.moves){r=k(r,new i(i.ORDER,e,u.moves))}return r}function d(e,t,n){x(e,t,n);p(e,t,n)}function p(e,t,n){if(a(e)){if(typeof e.destroy==="function"){t[n]=k(t[n],new i(i.REMOVE,e,null))}}else if(o(e)&&(e.hasWidgets||e.hasThunks)){var r=e.children;var s=r.length;for(var f=0;f<s;f++){var l=r[f];n+=1;p(l,t,n);if(o(l)&&l.count){n+=l.count}}}else if(u(e)){g(e,null,t,n)}}function g(e,t,n,r){var o=f(e,t);var s=v(o.a,o.b);if(y(s)){n[r]=new i(i.THUNK,null,s)}}function y(e){for(var t in e){if(t!=="a"){return true}}return false}function x(e,t,n){if(o(e)){if(e.hooks){t[n]=k(t[n],new i(i.PROPS,e,m(e.hooks)))}if(e.descendantHooks||e.hasThunks){var r=e.children;var s=r.length;for(var a=0;a<s;a++){var f=r[a];n+=1;x(f,t,n);if(o(f)&&f.count){n+=f.count}}}}else if(u(e)){g(e,null,t,n)}}function m(e){var t={};for(var n in e){t[n]=undefined}return t}function w(e,t){var n=b(t);var r=n.keys;var i=n.free;if(i.length===t.length){return{children:t,moves:null}}var o=b(e);var s=o.keys;var a=o.free;if(a.length===e.length){return{children:t,moves:null}}var u=[];var f=0;var l=i.length;var v=0;for(var c=0;c<e.length;c++){var h=e[c];var d;if(h.key){if(r.hasOwnProperty(h.key)){d=r[h.key];u.push(t[d])}else{d=c-v++;u.push(null)}}else{if(f<l){d=i[f++];u.push(t[d])}else{d=c-v++;u.push(null)}}}var p=f>=i.length?t.length:i[f];for(var g=0;g<t.length;g++){var y=t[g];if(y.key){if(!s.hasOwnProperty(y.key)){u.push(y)}}else if(g>=p){u.push(y)}}var x=u.slice();var m=0;var w=[];var k=[];var E;for(var S=0;S<t.length;){var j=t[S];E=x[m];while(E===null&&x.length){w.push(_(x,m,null));E=x[m]}if(!E||E.key!==j.key){if(j.key){if(E&&E.key){if(r[E.key]!==S+1){w.push(_(x,m,E.key));E=x[m];if(!E||E.key!==j.key){k.push({key:j.key,to:S})}else{m++}}else{k.push({key:j.key,to:S})}}else{k.push({key:j.key,to:S})}S++}else if(E&&E.key){w.push(_(x,m,E.key))}}else{m++;S++}}while(m<x.length){E=x[m];w.push(_(x,m,E&&E.key))}if(w.length===v&&!k.length){return{children:u,moves:null}}return{children:u,moves:{removes:w,inserts:k}}}function _(e,t,n){e.splice(t,1);return{from:t,key:n}}function b(e){var t={};var n=[];var r=e.length;for(var i=0;i<r;i++){var o=e[i];if(o.key){t[o.key]=i}else{n.push(i)}}return{keys:t,free:n}}function k(e,t){if(e){if(r(e)){e.push(t)}else{e=[e,t]}return e}else{return t}}},{"../vnode/handle-thunk":37,"../vnode/is-thunk":38,"../vnode/is-vnode":40,"../vnode/is-vtext":41,"../vnode/is-widget":42,"../vnode/vpatch":45,"./diff-props":47,"x-is-array":25}],49:[function(e,t,n){var r=e("./utils"),i=r.Type,o=r.TypeName;function s(e){return e===36||e===95||e===45||e>=65&&e<=90||e>=97&&e<=122||e>=48&&e<=57}var a=function(){this.source="";this.index=0;this.length=0};a.prototype={constructor:a,parse:function(e){this.source=r.trimRight(e);this.index=0;this.length=this.source.length;return this._parseTemplate()},_parseTemplate:function(){var e=[],t={count:0};while(this.index<this.length&&t.count>=0){e.push(this._advance(t))}return e},_advance:function(e){var t=this._char();if(t!=="<"){return this._scanJS(e)}else{return this._scanJSX()}},_scanJS:function(e){var t=this.index;while(this.index<this.length){var n=this._char();if(n==="'"||n==='"'){this._scanStringLiteral()}else if(this._char()==="<"&&/^<\w+\s*[\w>]/.test(this.source.slice(this.index))){break}else{if(n==="{"){e.count++}else if(n==="}"){e.count--;if(e.count<0){this.index++;break}}this.index++}}return{type:i.JS,typeName:o[i.JS],value:this.source.slice(t,e.count<0?this.index-1:this.index)}},_scanStringLiteral:function(){var e=this._char(),t=this.index,n="";this.index++;while(this.index<this.length){var r=this._char();this.index++;if(r===e){e="";break}else if(r==="\\"){n+=this._char(this.index++)}else{n+=r}}if(e!==""){throw new Error("Unclosed quote")}return{type:i.StringLiteral,typeName:o[i.StringLiteral],value:this.source.slice(t,this.index)}},_scanJSX:function(){return this._parseJSXElement()},_scanJSXText:function(e){var t=this.index;while(this.index<this.length){var n=this._char();if(~e.indexOf(n)){break}this.index++}return{type:i.JSXText,typeName:o[i.JSXText],value:this.source.slice(t,this.index)}},_scanJSXStringLiteral:function(){var e=this._char();if(e!=="'"&&e!=='"'){throw new Error("String literal must starts with a qoute")}this.index++;var t=this._scanJSXText([e]);this.index++;return t},_parseJSXElement:function(){this._expect("<");var e=this.index;while(this.index<this.length){if(!s(this._charCode())){break}this.index++}var t={type:i.JSXElement,typeName:o[i.JSXElement],value:this.source.slice(e,this.index),attributes:this._parseJSXAttribute(),children:[]};if(r.isSelfClosingTag(t.value)){if(this._char()==="/"){this.index++}this._expect(">")}else if(this._char()==="/"){this.index++;this._expect(">")}else{this._expect(">");t.children=this._parseJSXChildren()}return t},_parseJSXAttribute:function(){var e=[];while(this.index<this.length){this._skipWhitespace();if(this._char()==="/"||this._char()===">"){break}else{var t=this._parseJSXAttributeName();if(this._char()==="="){this.index++;t.value=this._parseJSXAttributeValue()}e.push(t)}}return e},_parseJSXAttributeName:function(){var e=this.index;if(!s(this._charCode())){throw new Error("Unexpected identifier "+this._char())}while(this.index<this.length){var t=this._charCode();if(!s(t)){break}this.index++}return{type:i.JSXAttribute,typeName:o[i.JSXAttribute],name:this.source.slice(e,this.index)}},_parseJSXAttributeValue:function(){var e;if(this._char()==="{"){e=this._parseJSXExpressionContainer()}else{e=this._scanJSXStringLiteral()}return e},_parseJSXExpressionContainer:function(){var e;this._expect("{");if(this._char()==="}"){e=this._parseJSXEmptyExpression()}else{e=this._parseExpression()}this._expect("}");return{type:i.JSXExpressionContainer,typeName:o[i.JSXExpressionContainer],value:e}},_parseJSXEmptyExpression:function(){return{type:i.JSXEmptyExpression,typeName:o[i.JSXEmptyExpression],value:null}},_parseExpression:function(){var e=this._parseTemplate();this.index--;return e},_parseJSXChildren:function(){var e=[];while(this.index<this.length){if(this._char(this.index)==="<"&&this._char(this.index+1)==="/"){break}e.push(this._parseJSXChild())}this._parseJSXClosingElement();return e},_parseJSXChild:function(){var e,t=this._char();if(t==="{"){e=this._parseJSXExpressionContainer()}else if(t==="<"){e=this._parseJSXElement()}else{e=this._scanJSXText(["<","{"])}return e},_parseJSXClosingElement:function(){this._expect("</");while(this.index<this.length){if(!s(this._charCode())){break}this.index++}this._skipWhitespace();this._expect(">")},_char:function(e){e=e||this.index;return this.source.charAt(e)},_charCode:function(e){e=e||this.index;return this.source.charCodeAt(e)},_skipWhitespace:function(){while(this.index<this.length){if(r.isWhiteSpace(this._charCode())){this.index++}else{break}}},_expect:function(e){if(this.source.slice(this.index,this.index+e.length)!==e){throw new Error("expect string "+e)}this.index+=e.length}};t.exports=a},{"./utils":51}],50:[function(e,t,n){var r=e("./utils"),i=r.Type;var o=function(){};o.prototype={constructor:o,stringify:function(e,t){this.autoReturn=t==undefined?true:t;return this._visitJSXExpressionContainer(e,true)},_visitJSXExpressionContainer:function(e,t){var n="",i=e.length;r.each(e,function(e,r){if(this.autoReturn&&t&&r===i-1){n+="return "+this._visit(e)}else{n+=this._visit(e)}},this);return n},_visit:function(e){e=e||{};switch(e.type){case i.JS:return this._visitJS(e);case i.JSXElement:return this._visitJSX(e);case i.JSXText:return this._visitJSXText(e);case i.JSXExpressionContainer:return this._visitJSXExpressionContainer(e.value);default:return"null"}},_visitJS:function(e){return e.value},_visitJSX:function(e){var t="h('"+e.value+"',"+this._visitJSXAttribute(e.attributes)+", ",n=[];r.each(e.children,function(e){n.push(this._visit(e))},this);return t+"["+n.join(", ")+"])"},_visitJSXAttribute:function(e){var t=[];r.each(e,function(e){t.push("'"+e.name+"': "+this._visit(e.value))},this);return t.length?"{"+t.join(", ")+"}":"null"},_visitJSXText:function(e){return"'"+e.value.replace(/[\r\n]/g," ")+"'"}};t.exports=o},{"./utils":51}],51:[function(e,t,n){var r=0,i={JS:r++,JSXText:r++,JSXElement:r++,JSXExpressionContainer:r++,JSXAttribute:r++,JSXEmptyExpression:r++},o=[],s={area:true,base:true,br:true,col:true,embed:true,hr:true,img:true,input:true,keygen:true,link:true,menuitem:true,meta:true,param:true,source:true,track:true,wbr:true};var a=Object.prototype.hasOwnProperty;(function(){for(var e in i){if(a.call(i,e)){o[i[e]]=e}}})();var u={each:function(e,t,n){for(var r=0,i=e.length;r<i;r++){var o=e[r];t.call(n,o,r)}},isWhiteSpace:function(e){return e<=160&&(e>=9&&e<=13)||e==32||e==160||e==5760||e==6158||e>=8192&&(e<=8202||e==8232||e==8233||e==8239||e==8287||e==12288||e==65279);

},trimRight:function(e){var t=e.length;while(t--&&u.isWhiteSpace(e.charCodeAt(t))){}return e.slice(0,t+1)},Type:i,TypeName:o,isSelfClosingTag:function(e){return s[e]}};t.exports=u},{}],52:[function(e,t,n){var r=new(e("./parser")),i=new(e("./stringifier")),o=e("virtual-dom"),s=e("dom-delegator");var a=new s;var u=function(e,t){var n,r,i,s;n=f(e,t);return{render:function(e){this.data=e;r=n.call(e,e,u);i=o.create(r);return i},update:function(e){if(arguments.length){this.data=e}var t=n.call(this.data,this.data,u),s=o.diff(r,t);i=o.patch(i,s);r=t;return i},data:{},getTree:function(){return r},setTree:function(e){r=e},getNode:function(){return i},setNode:function(e){i=e}}};function f(e,t){var n;switch(typeof e){case"string":var o=r.parse(e),s=i.stringify(o,t);s="_Vdt || (_Vdt = Vdt); var h = _Vdt.virtualDom.h;\nwith(obj || {}) {\n"+s+"\n};";n=new Function("obj","_Vdt",s);n.source="function(obj, _Vdt) {\n"+s+"\n}";break;case"function":n=e;break;default:throw new Error("Expect a string or function")}return n}u.parser=r;u.stringifier=i;u.virtualDom=o;u.compile=f;u.delegator=a;t.exports=u},{"./parser":49,"./stringifier":50,"dom-delegator":3,"virtual-dom":18}],53:[function(e,t,n){},{}],54:[function(e,t,n){t.exports=e("./lib/vdt")},{"./lib/vdt":52}]},{},[54])(54)});